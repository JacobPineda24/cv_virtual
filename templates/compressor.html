{% extends "base.html" %}
{% block content %}
<section>
    <h2>Compresor de Archivos Online</h2>
    <p>Sube un archivo y descárgalo comprimido o convertido.</p>

    {% if not is_premium %}
    <div style="background-color:#e8f6f5;border-left:5px solid #007c78;padding:10px 15px;margin-bottom:20px;border-radius:5px;">
        <strong>Modo Gratuito:</strong>
        <p>Has usado <b>{{ used }}</b> de <b>{{ limit }}</b> compresiones hoy.<br>
        Te quedan <b>{{ remaining }}</b> archivos disponibles.</p>
    </div>
    {% else %}
    <div style="background-color:#f4ecff;border-left:5px solid #a970ff;padding:10px 15px;margin-bottom:20px;border-radius:5px;">
        <strong>Modo Premium Activo 💎</strong>
        <p>¡Compresión y conversión ilimitada habilitada!</p>
    </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
      <label for="file">Selecciona uno o varios archivos:</label><br>
      <input type="file" name="files" id="file" multiple required><br><br>
    
      <label for="format">Formato de salida (solo para imágenes):</label>
      <select name="format" id="format">
        <option value="none">Mantener formato</option>
        <option value="jpg">JPG</option>
        <option value="png">PNG</option>
        <option value="webp">WebP</option>
      </select><br><br>
    
      <button type="submit" class="btn">Comprimir Archivos</button>
    </form>
    
    <hr>
    
    <h3>💬 Comentarios</h3>
    <p>Comparte tu experiencia usando el compresor:</p>
    
    <div class="fb-comments"
         data-href="https://cv-virtual.onrender.com/compressor"
         data-width="100%"
         data-numposts="5"></div>

    <hr>
    <h3>Detalles del servicio</h3>

    <h4>Versión gratuita</h4>
    <ul>
        <li>Hasta 2 archivos por día.</li>
        <li>Límite: 2 MB por archivo.</li>
    </ul>

    <h4>Versión Premium 💎</h4>
    <ul>
        <li>Compresión ilimitada.</li>
        <li>Archivos hasta 50 MB.</li>
        <li>Conversión entre PNG, JPG y WebP.</li>
    </ul>

    <a href="{{ url_for('premium') }}"><button>Mejorar a Premium</button></a>
</section>
{% endblock %}
